# Comparing `tmp/scriptconfig-0.7.8-py3-none-any.whl.zip` & `tmp/scriptconfig-0.7.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,27 +1,29 @@
-Zip file size: 54148 bytes, number of entries: 25
--rw-r--r--  2.0 unx     5126 b- defN 23-May-09 01:57 scriptconfig/__init__.py
--rw-r--r--  2.0 unx      633 b- defN 23-May-09 01:57 scriptconfig/_ubelt_repr_extension.py
--rw-r--r--  2.0 unx    17194 b- defN 23-May-09 01:57 scriptconfig/argparse_ext.py
--rw-rw-rw-  2.0 unx     1076 b- defN 23-May-09 01:57 scriptconfig/argparse_ext.pyi
--rw-r--r--  2.0 unx      881 b- defN 23-May-09 01:57 scriptconfig/cli.py
--rw-rw-rw-  2.0 unx       98 b- defN 23-May-09 01:57 scriptconfig/cli.pyi
--rw-r--r--  2.0 unx    62021 b- defN 23-May-09 01:57 scriptconfig/config.py
--rw-rw-rw-  2.0 unx     2344 b- defN 23-May-09 01:57 scriptconfig/config.pyi
--rw-r--r--  2.0 unx    15411 b- defN 23-May-09 01:57 scriptconfig/dataconfig.py
--rw-rw-rw-  2.0 unx     1454 b- defN 23-May-09 01:57 scriptconfig/dataconfig.pyi
--rw-r--r--  2.0 unx     3588 b- defN 23-May-09 01:57 scriptconfig/dict_like.py
--rw-rw-rw-  2.0 unx     1025 b- defN 23-May-09 01:57 scriptconfig/dict_like.pyi
--rw-r--r--  2.0 unx     1162 b- defN 23-May-09 01:57 scriptconfig/file_like.py
--rw-rw-rw-  2.0 unx      238 b- defN 23-May-09 01:57 scriptconfig/file_like.pyi
--rw-r--r--  2.0 unx     7636 b- defN 23-May-09 01:57 scriptconfig/modal.py
--rw-rw-rw-  2.0 unx        0 b- defN 23-May-09 01:57 scriptconfig/py.typed
--rw-r--r--  2.0 unx     8874 b- defN 23-May-09 01:57 scriptconfig/smartcast.py
--rw-rw-rw-  2.0 unx      266 b- defN 23-May-09 01:57 scriptconfig/smartcast.pyi
--rw-r--r--  2.0 unx    15217 b- defN 23-May-09 01:57 scriptconfig/value.py
--rw-rw-rw-  2.0 unx     1589 b- defN 23-May-09 01:57 scriptconfig/value.pyi
--rw-rw-rw-  2.0 unx    11343 b- defN 23-May-09 01:57 scriptconfig-0.7.8.dist-info/LICENSE
--rw-r--r--  2.0 unx    31447 b- defN 23-May-09 01:57 scriptconfig-0.7.8.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-09 01:57 scriptconfig-0.7.8.dist-info/WHEEL
--rw-r--r--  2.0 unx       13 b- defN 23-May-09 01:57 scriptconfig-0.7.8.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2041 b- defN 23-May-09 01:57 scriptconfig-0.7.8.dist-info/RECORD
-25 files, 190769 bytes uncompressed, 50872 bytes compressed:  73.3%
+Zip file size: 56087 bytes, number of entries: 27
+-rw-r--r--  2.0 unx     5244 b- defN 23-Jun-06 03:13 scriptconfig/__init__.py
+-rw-r--r--  2.0 unx      633 b- defN 23-Jun-06 03:13 scriptconfig/_ubelt_repr_extension.py
+-rw-rw-rw-  2.0 unx        1 b- defN 23-Jun-06 03:13 scriptconfig/_ubelt_repr_extension.pyi
+-rw-r--r--  2.0 unx    17335 b- defN 23-Jun-06 03:13 scriptconfig/argparse_ext.py
+-rw-rw-rw-  2.0 unx     1281 b- defN 23-Jun-06 03:13 scriptconfig/argparse_ext.pyi
+-rw-r--r--  2.0 unx      881 b- defN 23-Jun-06 03:13 scriptconfig/cli.py
+-rw-rw-rw-  2.0 unx       98 b- defN 23-Jun-06 03:13 scriptconfig/cli.pyi
+-rw-r--r--  2.0 unx    62037 b- defN 23-Jun-06 03:13 scriptconfig/config.py
+-rw-rw-rw-  2.0 unx     2859 b- defN 23-Jun-06 03:13 scriptconfig/config.pyi
+-rw-r--r--  2.0 unx    15411 b- defN 23-Jun-06 03:13 scriptconfig/dataconfig.py
+-rw-rw-rw-  2.0 unx     1230 b- defN 23-Jun-06 03:13 scriptconfig/dataconfig.pyi
+-rw-r--r--  2.0 unx     3588 b- defN 23-Jun-06 03:13 scriptconfig/dict_like.py
+-rw-rw-rw-  2.0 unx     1025 b- defN 23-Jun-06 03:13 scriptconfig/dict_like.pyi
+-rw-r--r--  2.0 unx     1162 b- defN 23-Jun-06 03:13 scriptconfig/file_like.py
+-rw-rw-rw-  2.0 unx      238 b- defN 23-Jun-06 03:13 scriptconfig/file_like.pyi
+-rw-r--r--  2.0 unx    12727 b- defN 23-Jun-06 03:13 scriptconfig/modal.py
+-rw-rw-rw-  2.0 unx      959 b- defN 23-Jun-06 03:13 scriptconfig/modal.pyi
+-rw-rw-rw-  2.0 unx        0 b- defN 23-Jun-06 03:13 scriptconfig/py.typed
+-rw-r--r--  2.0 unx     8874 b- defN 23-Jun-06 03:13 scriptconfig/smartcast.py
+-rw-rw-rw-  2.0 unx      229 b- defN 23-Jun-06 03:13 scriptconfig/smartcast.pyi
+-rw-r--r--  2.0 unx    15217 b- defN 23-Jun-06 03:13 scriptconfig/value.py
+-rw-rw-rw-  2.0 unx     1862 b- defN 23-Jun-06 03:13 scriptconfig/value.pyi
+-rw-rw-rw-  2.0 unx    11343 b- defN 23-Jun-06 03:13 scriptconfig-0.7.9.dist-info/LICENSE
+-rw-r--r--  2.0 unx    31447 b- defN 23-Jun-06 03:13 scriptconfig-0.7.9.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-06 03:13 scriptconfig-0.7.9.dist-info/WHEEL
+-rw-r--r--  2.0 unx       13 b- defN 23-Jun-06 03:13 scriptconfig-0.7.9.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2212 b- defN 23-Jun-06 03:13 scriptconfig-0.7.9.dist-info/RECORD
+27 files, 197998 bytes uncompressed, 52539 bytes compressed:  73.5%
```

## zipnote {}

```diff
@@ -1,13 +1,16 @@
 Filename: scriptconfig/__init__.py
 Comment: 
 
 Filename: scriptconfig/_ubelt_repr_extension.py
 Comment: 
 
+Filename: scriptconfig/_ubelt_repr_extension.pyi
+Comment: 
+
 Filename: scriptconfig/argparse_ext.py
 Comment: 
 
 Filename: scriptconfig/argparse_ext.pyi
 Comment: 
 
 Filename: scriptconfig/cli.py
@@ -39,14 +42,17 @@
 
 Filename: scriptconfig/file_like.pyi
 Comment: 
 
 Filename: scriptconfig/modal.py
 Comment: 
 
+Filename: scriptconfig/modal.pyi
+Comment: 
+
 Filename: scriptconfig/py.typed
 Comment: 
 
 Filename: scriptconfig/smartcast.py
 Comment: 
 
 Filename: scriptconfig/smartcast.pyi
@@ -54,23 +60,23 @@
 
 Filename: scriptconfig/value.py
 Comment: 
 
 Filename: scriptconfig/value.pyi
 Comment: 
 
-Filename: scriptconfig-0.7.8.dist-info/LICENSE
+Filename: scriptconfig-0.7.9.dist-info/LICENSE
 Comment: 
 
-Filename: scriptconfig-0.7.8.dist-info/METADATA
+Filename: scriptconfig-0.7.9.dist-info/METADATA
 Comment: 
 
-Filename: scriptconfig-0.7.8.dist-info/WHEEL
+Filename: scriptconfig-0.7.9.dist-info/WHEEL
 Comment: 
 
-Filename: scriptconfig-0.7.8.dist-info/top_level.txt
+Filename: scriptconfig-0.7.9.dist-info/top_level.txt
 Comment: 
 
-Filename: scriptconfig-0.7.8.dist-info/RECORD
+Filename: scriptconfig-0.7.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## scriptconfig/__init__.py

```diff
@@ -128,32 +128,34 @@
 
 Note that keyword arguments are always available, even if the argument is
 marked as positional. This is because a scriptconfig object always reduces to
 key/value pairs --- i.e. a dictionary.
 
 
 See the :mod:`scriptconfig.config` module docs for details and examples on
-getting started.
+getting started as well as :doc:`getting_started docs <getting_started>`
 """
 
 __autogen__ = """
 Ignore:
     mkinit ~/code/scriptconfig/scriptconfig/__init__.py --nomods --relative --diff
     mkinit ~/code/scriptconfig/scriptconfig/__init__.py --nomods --relative -w
 """
 
-__version__ = '0.7.8'
+__version__ = '0.7.9'
 
 __submodules__ = {
+    'modal': None,
     'config': None,
     'value': None,
     'cli': None,
     'dataconfig': None,
 }
 
+from .modal import (ModalCLI,)
 from .config import (Config, define,)
 from .value import (Path, PathList, Value, Flag)
 from .cli import (quick_cli,)
 from .dataconfig import (DataConfig, dataconf,)
 
 __all__ = ['Config', 'DataConfig', 'Path', 'PathList', 'Value', 'dataconf',
-           'define', 'quick_cli', 'Flag']
+           'define', 'quick_cli', 'Flag', 'ModalCLI']
```

## scriptconfig/argparse_ext.py

```diff
@@ -3,31 +3,34 @@
 """
 import argparse
 
 import os
 _FALSY = {'0', 'false', 'f', 'no', ''}
 SCRIPTCONFIG_NORICH = os.environ.get('SCRIPTCONFIG_NORICH', '').lower() not in _FALSY
 
+
+__docstubs__ = """
+import argparse
+_Base = argparse._StoreAction
+
+_RawDescriptionHelpFormatter = argparse.RawDescriptionHelpFormatter
+_ArgumentDefaultsHelpFormatter = argparse.ArgumentDefaultsHelpFormatter
+"""
+
 try:
     import rich_argparse
     if SCRIPTCONFIG_NORICH:
         raise ImportError
 except ImportError:
     _RawDescriptionHelpFormatter = argparse.RawDescriptionHelpFormatter
     _ArgumentDefaultsHelpFormatter = argparse.ArgumentDefaultsHelpFormatter
 else:
     _RawDescriptionHelpFormatter = rich_argparse.RawDescriptionRichHelpFormatter
     _ArgumentDefaultsHelpFormatter = rich_argparse.ArgumentDefaultsRichHelpFormatter
 
-
-__docstubs__ = """
-import argparse
-_Base = argparse._StoreAction
-"""
-
 # Inherit from StoreAction to make configargparse happy.  Hopefully python
 # doesn't change the behavior of this private class.
 # If we ditch support for configargparse in the future, then we can more
 # reasonably just inherit from Action
 _Base = argparse._StoreAction
 # _Base = argparse.Action
```

## scriptconfig/argparse_ext.pyi

```diff
@@ -1,13 +1,17 @@
 import argparse
 from _typeshed import Incomplete
 
 import argparse
 
 _Base = argparse._StoreAction
+
+_RawDescriptionHelpFormatter = argparse.RawDescriptionHelpFormatter
+_ArgumentDefaultsHelpFormatter = argparse.ArgumentDefaultsHelpFormatter
+SCRIPTCONFIG_NORICH: Incomplete
 __docstubs__: str
 
 
 class BooleanFlagOrKeyValAction(_Base):
 
     def __init__(self,
                  option_strings,
@@ -24,18 +28,17 @@
                  parser,
                  namespace,
                  values,
                  option_string: Incomplete | None = ...) -> None:
         ...
 
 
-class RawDescriptionDefaultsHelpFormatter(
-        argparse.RawDescriptionHelpFormatter,
-        argparse.ArgumentDefaultsHelpFormatter):
-    ...
+class RawDescriptionDefaultsHelpFormatter(_RawDescriptionHelpFormatter,
+                                          _ArgumentDefaultsHelpFormatter):
+    group_name_formatter = str
 
 
 class CompatArgumentParser(argparse.ArgumentParser):
     exit_on_error: Incomplete
 
     def __init__(self, *args, **kwargs) -> None:
         ...
```

## scriptconfig/config.py

```diff
@@ -227,17 +227,18 @@
 
 class Config(ub.NiceRepr, DictLike, metaclass=MetaConfig):
     """
     Base class for custom configuration objects
 
     A configuration that can be specified by commandline args, a yaml config
     file, and / or a in-code dictionary. To use, define a class variable named
-    "__default__" and passing it to a dict of default values. You can also use
-    special `Value` classes to denote types. You can also define a method
-    `__post_init__`, to postprocess the arguments after this class receives them.
+    ``__default__`` and passing it to a dict of default values. You can also
+    use special ``Value`` classes to denote types. You can also define a method
+    ``__post_init__``, to postprocess the arguments after this class receives
+    them.
 
     Basic usage is as follows.
 
     Create a class that inherits from this class.
 
     Assign the "__default__" class-level variable as a dictionary of options
 
@@ -363,15 +364,15 @@
             argv (List[str]):
                 if specified, ignore sys.argv and parse this instead.
 
             strict (bool):
                 if True use ``parse_args`` otherwise use ``parse_known_args``.
                 Defaults to True.
 
-            autocomplete (bool):
+            autocomplete (bool | str):
                 if True try to enable argcomplete.
         """
         if cmdline and argv is not None:
             cmdline = argv
         if default is None:
             default = {}
         self = cls()
```

## scriptconfig/config.pyi

```diff
@@ -1,11 +1,10 @@
-from typing import Union
+from typing import List
 from typing import Any
 from os import PathLike
-from typing import List
 import argparse
 import ubelt as ub
 from _typeshed import Incomplete
 from collections.abc import Generator
 from scriptconfig.dict_like import DictLike
 from scriptconfig.file_like import FileLike
 from typing import Any
@@ -22,25 +21,43 @@
     ...
 
 
 def define(default=..., name: Incomplete | None = ...):
     ...
 
 
-class Config(ub.NiceRepr, DictLike):
+class MetaConfig(type):
+
+    @staticmethod
+    def __new__(mcls, name, bases, namespace, *args, **kwargs):
+        ...
+
+
+class Config(ub.NiceRepr, DictLike, metaclass=MetaConfig):
     __scfg_class__: str
+    __default__: Incomplete
     epilog: str
 
     def __init__(self,
-                 data: Union[object, None] = None,
-                 default: Union[dict, None] = None,
+                 data: object | None = None,
+                 default: dict | None = None,
                  cmdline: bool = ...) -> None:
         ...
 
     @classmethod
+    def cli(cls,
+            data: dict | str | None = None,
+            default: dict | None = None,
+            argv: List[str] | None = None,
+            strict: bool = True,
+            cmdline: bool = True,
+            autocomplete: bool | str = 'auto'):
+        ...
+
+    @classmethod
     def demo(cls):
         ...
 
     def __json__(self) -> dict:
         ...
 
     def __nice__(self):
@@ -58,52 +75,55 @@
     def keys(self) -> Generator[str, None, Any]:
         ...
 
     def update_defaults(self, default: dict) -> None:
         ...
 
     def load(self,
-             data: Union[PathLike, dict, None] = None,
-             cmdline: Union[bool, List[str], str] = False,
-             mode: Union[str, None] = None,
-             default: Union[dict, None] = None,
-             strict: bool = False):
+             data: PathLike | dict | None = None,
+             cmdline: bool | List[str] | str = False,
+             mode: str | None = None,
+             default: dict | None = None,
+             strict: bool = False,
+             autocomplete: bool = False):
         ...
 
-    def normalize(self) -> None:
+    def __post_init__(self) -> None:
         ...
 
-    def dump(self,
-             stream: Union[FileLike, None] = None,
-             mode: Union[str, None] = None):
+    def dump(self, stream: FileLike | None = None, mode: str | None = None):
         ...
 
-    def dumps(self, mode: Union[str, None] = None):
+    def dumps(self, mode: str | None = None):
+        ...
+
+    def __getattr__(self, key):
+        ...
+
+    def port_to_dataconf(self):
+        ...
+
+    @classmethod
+    def port_click(cls, click_main, name: str = ..., style: str = ...) -> None:
         ...
 
     @classmethod
     def port_argparse(cls,
                       parser: argparse.ArgumentParser,
                       name: str = 'MyConfig',
-                      style: str = 'orig') -> str:
+                      style: str = 'dataconf') -> str:
         ...
 
     @property
     def namespace(self):
         ...
 
     def to_omegaconf(self) -> omegaconf.OmegaConf:
         ...
 
-    required: bool
-    type: Incomplete
-
     def argparse(self,
-                 parser: Union[None, argparse.ArgumentParser] = None,
+                 parser: None | argparse.ArgumentParser = None,
                  special_options: bool = False) -> argparse.ArgumentParser:
         ...
 
-    def __getattr__(self, key):
-        ...
-
 
 __notes__: str
```

## scriptconfig/dataconfig.pyi

```diff
@@ -1,17 +1,16 @@
-from typing import Union
 from _typeshed import Incomplete
-from scriptconfig.config import Config
+from scriptconfig.config import Config, MetaConfig
 
 
 def dataconf(cls):
     ...
 
 
-class MetaDataConfig(type):
+class MetaDataConfig(MetaConfig):
 
     @staticmethod
     def __new__(mcls, name, bases, namespace, *args, **kwargs):
         ...
 
 
 class DataConfig(Config, metaclass=MetaDataConfig):
@@ -21,35 +20,29 @@
 
     def __init__(self, *args, **kwargs) -> None:
         ...
 
     def __getattr__(self, key):
         ...
 
+    def __dir__(self):
+        ...
+
     def __setattr__(self, key, value) -> None:
         ...
 
     @classmethod
     def legacy(cls,
                cmdline: bool = ...,
                data: Incomplete | None = ...,
                default: Incomplete | None = ...,
                strict: bool = ...):
         ...
 
     @classmethod
-    def cli(cls,
-            data: Union[dict, str, None] = None,
-            default: Union[dict, None] = None,
-            argv: Incomplete | None = ...,
-            strict: bool = ...,
-            cmdline: bool = True):
-        ...
-
-    @classmethod
     def parse_args(cls,
                    args: Incomplete | None = ...,
                    namespace: Incomplete | None = ...):
         ...
 
     @classmethod
     def parse_known_args(cls,
```

## scriptconfig/modal.py

```diff
@@ -1,15 +1,69 @@
 import argparse as argparse_mod
 import ubelt as ub
+# from scriptconfig.config import MetaConfig
 
 
 DEFAULT_GROUP = 'commands'
 
 
-class ModalCLI(object):
+class class_or_instancemethod(classmethod):
+    """
+    Allows a method to behave as a class or instance method [SO28237955]_.
+
+    References:
+        .. [SO28237955] https://stackoverflow.com/questions/28237955/same-name-for-classmethod-and-instancemethod
+
+    Example:
+        >>> class X:
+        ...     @class_or_instancemethod
+        ...     def foo(self_or_cls):
+        ...         if isinstance(self_or_cls, type):
+        ...             return f"bound to the class"
+        ...         else:
+        ...             return f"bound to the instance"
+        >>> print(X.foo())
+        bound to the class
+        >>> print(X().foo())
+        bound to the instance
+    """
+    def __get__(self, instance, type_):
+        descr_get = super().__get__ if instance is None else self.__func__.__get__
+        return descr_get(instance, type_)
+
+
+class MetaModalCLI(type):
+    """
+    A metaclass to help minimize boilerplate when defining a ModalCLI
+    """
+
+    @staticmethod
+    def __new__(mcls, name, bases, namespace, *args, **kwargs):
+
+        # Iterate over class attributes and register any Configs in the
+        # __subconfigs__ dictionary.
+        attr_subconfigs = {}
+        for k, v in namespace.items():
+            if not k.startswith('_') and isinstance(v, type):
+                attr_subconfigs[k] = v
+
+        final_subconfigs = list(attr_subconfigs.values())
+        cls_subconfigs = namespace.get('__subconfigs__', [])
+        final_subconfigs.extend(cls_subconfigs)
+
+        # Helps make the class pickleable. Pretty hacky though.
+        for k in attr_subconfigs:
+            namespace.pop(k)
+        namespace['__subconfigs__'] = final_subconfigs
+
+        cls = super().__new__(mcls, name, bases, namespace, *args, **kwargs)
+        return cls
+
+
+class ModalCLI(metaclass=MetaModalCLI):
     """
     Contains multiple scriptconfig.Config items with corresponding `main`
     functions.
 
     CommandLine:
         xdoctest -m scriptconfig.modal ModalCLI
 
@@ -53,33 +107,111 @@
             'foo': 'spam',
         }
         >>> self.run(argv=['command2', '--baz=buz'])
         config2 = {
             'foo': 'eggs',
             'baz': 'buz',
         }
+
+    CommandLine:
+        xdoctest -m scriptconfig.modal ModalCLI:1
+
+    Example:
+        >>> # Declarative modal CLI (new in 0.7.9)
+        >>> import scriptconfig as scfg
+        >>> class MyModalCLI(scfg.ModalCLI):
+        >>>     #
+        >>>     class Command1(scfg.DataConfig):
+        >>>         __command__ = 'command1'
+        >>>         foo = scfg.Value('spam', help='spam spam spam spam')
+        >>>         @classmethod
+        >>>         def main(cls, cmdline=1, **kwargs):
+        >>>             config = cls.cli(cmdline=cmdline, data=kwargs)
+        >>>             print('config1 = {}'.format(ub.urepr(dict(config), nl=1)))
+        >>>     #
+        >>>     class Command2(scfg.DataConfig):
+        >>>         __command__ = 'command2'
+        >>>         foo = 'eggs'
+        >>>         baz = 'biz'
+        >>>         @classmethod
+        >>>         def main(cls, cmdline=1, **kwargs):
+        >>>             config = cls.cli(cmdline=cmdline, data=kwargs)
+        >>>             print('config2 = {}'.format(ub.urepr(dict(config), nl=1)))
+        >>> #
+        >>> MyModalCLI.main(argv=['command1'])
+        >>> MyModalCLI.main(argv=['command2', '--baz=buz'])
+
+    Example:
+        >>> # Declarative modal CLI (new in 0.7.9)
+        >>> import scriptconfig as scfg
+        >>> class MyModalCLI(scfg.ModalCLI):
+        >>>     ...
+        >>> #
+        >>> @MyModalCLI.register
+        >>> class Command1(scfg.DataConfig):
+        >>>     __command__ = 'command1'
+        >>>     foo = scfg.Value('spam', help='spam spam spam spam')
+        >>>     @classmethod
+        >>>     def main(cls, cmdline=1, **kwargs):
+        >>>         config = cls.cli(cmdline=cmdline, data=kwargs)
+        >>>         print('config1 = {}'.format(ub.urepr(dict(config), nl=1)))
+        >>> #
+        >>> @MyModalCLI.register
+        >>> class Command2(scfg.DataConfig):
+        >>>     __command__ = 'command2'
+        >>>     foo = 'eggs'
+        >>>     baz = 'biz'
+        >>>     @classmethod
+        >>>     def main(cls, cmdline=1, **kwargs):
+        >>>         config = cls.cli(cmdline=cmdline, data=kwargs)
+        >>>         print('config2 = {}'.format(ub.urepr(dict(config), nl=1)))
+        >>> #
+        >>> MyModalCLI.main(argv=['command1'])
+        >>> MyModalCLI.main(argv=['command2', '--baz=buz'])
     """
+    __subconfigs__ = []
 
     def __init__(self, description='', sub_clis=None, version=None):
         if sub_clis is None:
             sub_clis = []
-        self.description = description
-        self.sub_clis = sub_clis
+
+        if self.__class__.__name__ != 'ModalCLI':
+            self.description = description or ub.codeblock(self.__doc__ or '')
+        else:
+            self.description = description
+
+        self._instance_subconfigs = sub_clis + self.__subconfigs__
         self.version = version
 
     def __call__(self, cli_cls):
         """ alias of register """
         return self.register(cli_cls)
 
-    def register(self, cli_cls):
+    @property
+    def sub_clis(self):
+        # backwards compat
+        return self._instance_subconfigs
+
+    @class_or_instancemethod
+    def register(cls_or_self, cli_cls):
+        """
+        Args:
+            cli_cli (scriptconfig.Config):
+                A CLI-aware config object to register as a sub CLI
+        """
         # Note: the order or registration is how it will appear in the CLI help
         # Hack for older scriptconfig
         # if not hasattr(cli_cls, 'default'):
         #     cli_cls.default = cli_cls.__default__
-        self.sub_clis.append(cli_cls)
+        if isinstance(cls_or_self, type):
+            # Called as a class method
+            cls_or_self.__subconfigs__.append(cli_cls)
+        else:
+            # Called as an instance method
+            cls_or_self._instance_subconfigs.append(cli_cls)
         return cli_cls
 
     def _build_subcmd_infos(self):
         cmdinfo_list = []
         for cli_cls in self.sub_clis:
             cmdname = getattr(cli_cls, '__command__', None)
             if cmdname is None:
@@ -173,15 +305,22 @@
                 cmdinfo['cmdname'], **cmdinfo['parserkw'])
             subparser = cmdinfo['subconfig'].argparse(subparser)
             subparser.set_defaults(main=cmdinfo['main_func'])
         return parser
 
     build_parser = argparse
 
-    def run(self, argv=None, strict=True):
+    @class_or_instancemethod
+    def main(self, argv=None, strict=True):
+        """
+        Execute the modal CLI as the main script
+        """
+        if isinstance(self, type):
+            self = self()
+
         parser = self.argparse()
 
         try:
             import argcomplete
             # Need to run: "$(register-python-argcomplete xdev)"
             # or activate-global-python-argcomplete --dest=-
             # activate-global-python-argcomplete --dest ~/.bash_completion.d
@@ -215,7 +354,9 @@
             print('ERROR ex = {!r}'.format(ex))
             raise
             return 1
         else:
             if ret is None:
                 ret = 0
             return ret
+
+    run = main  # alias for backwards compatiability
```

## scriptconfig/smartcast.pyi

```diff
@@ -1,11 +1,10 @@
-from typing import Union
 from _typeshed import Incomplete
 
 NoneType: Incomplete
 
 
-def smartcast(item: Union[str, object],
-              astype: Union[type, None] = None,
+def smartcast(item: str | object,
+              astype: type | None = None,
               strict: bool = False,
               allow_split: bool = False) -> object:
     ...
```

## scriptconfig/value.pyi

```diff
@@ -1,41 +1,52 @@
 from typing import Any
-from typing import Union
 from typing import List
 import ubelt as ub
 from _typeshed import Incomplete
 from typing import Any
 
+long_prefix_pat: Incomplete
+short_prefix_pat: Incomplete
+
+
+def normalize_option_str(s):
+    ...
+
+
+__note__: str
+
 
 class Value(ub.NiceRepr):
     __scfg_class__: str
     value: Any
-    type: Union[type, None]
+    type: type | None
     parsekw: dict
-    position: Union[None, int]
+    position: None | int
     isflag: bool
-    alias: Union[List[str], None]
-    short_alias: Union[List[str], None]
-    group: Union[str, None]
-    mutex_group: Union[str, None]
+    alias: List[str] | None
+    short_alias: List[str] | None
+    group: str | None
+    mutex_group: str | None
+    tags: Any
     required: Incomplete
 
     def __init__(self,
                  value: Incomplete | None = ...,
                  type: Incomplete | None = ...,
                  help: Incomplete | None = ...,
                  choices: Incomplete | None = ...,
                  position: Incomplete | None = ...,
                  isflag: bool = ...,
                  nargs: Incomplete | None = ...,
                  alias: Incomplete | None = ...,
                  required: bool = ...,
                  short_alias: Incomplete | None = ...,
                  group: Incomplete | None = ...,
-                 mutex_group: Incomplete | None = ...) -> None:
+                 mutex_group: Incomplete | None = ...,
+                 tags: Incomplete | None = ...) -> None:
         ...
 
     def __nice__(self):
         ...
 
     def update(self, value):
         ...
@@ -43,14 +54,20 @@
     def cast(self, value):
         ...
 
     def copy(self):
         ...
 
 
+class Flag(Value):
+
+    def __init__(self, value: bool = ..., **kwargs) -> None:
+        ...
+
+
 class Path(Value):
 
     def __init__(self,
                  value: Incomplete | None = ...,
                  help: Incomplete | None = ...,
                  alias: Incomplete | None = ...) -> None:
         ...
@@ -59,7 +76,11 @@
         ...
 
 
 class PathList(Value):
 
     def cast(self, value: Incomplete | None = ...):
         ...
+
+
+def scfg_isinstance(item: object, cls: type) -> bool:
+    ...
```

## Comparing `scriptconfig-0.7.8.dist-info/LICENSE` & `scriptconfig-0.7.9.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `scriptconfig-0.7.8.dist-info/METADATA` & `scriptconfig-0.7.9.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: scriptconfig
-Version: 0.7.8
+Version: 0.7.9
 Summary: Easy dict-based script configuration with CLI support
 Home-page: https://gitlab.kitware.com/utils/scriptconfig/
 Author: Kitware Inc., Jon Crall
 Author-email: kitware@kitware.com, jon.crall@kitware.com
 License: Apache 2
 Classifier: Development Status :: 4 - Beta
 Classifier: Intended Audience :: Developers
```

## Comparing `scriptconfig-0.7.8.dist-info/RECORD` & `scriptconfig-0.7.9.dist-info/RECORD`

 * *Files 18% similar despite different names*

```diff
@@ -1,25 +1,27 @@
-scriptconfig/__init__.py,sha256=RxwZut7fv8AXfj7X_MrxZByFhM2U2eY0kVhpVYo7pdk,5126
+scriptconfig/__init__.py,sha256=pK8R5SyJp2DMG8-zGDQYSpTcTySqbW1Q1YPMb6bLyrA,5244
 scriptconfig/_ubelt_repr_extension.py,sha256=fWnfj8fnOTxGHRkPX20R-W7_5rLV2YXSf76s-dgcmGE,633
-scriptconfig/argparse_ext.py,sha256=8zQ85lT8LuUxKDPH8ExoFq8HelzOSVTXTla-uAfMhfo,17194
-scriptconfig/argparse_ext.pyi,sha256=-ywlKe4Vj1UwwZqtH6cNGwMy7KC1B641RSOX250w4f8,1076
+scriptconfig/_ubelt_repr_extension.pyi,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+scriptconfig/argparse_ext.py,sha256=DVtdBb8uFz63Y57MqNlW-yDmsTx8pYvFRfYT6VotXyQ,17335
+scriptconfig/argparse_ext.pyi,sha256=gcHoLUpdCMgV6u2AUmpmcQJoYb9N8wVrzipyppVbr2o,1281
 scriptconfig/cli.py,sha256=Rm5IBIgRiTp_sJqm2QjSKt_YpCsUalsm_DMZ7LczWwE,881
 scriptconfig/cli.pyi,sha256=JjGmHDwl1b5rcYK625DrHwhZqh_7lRMd9gEUoRGayaM,98
-scriptconfig/config.py,sha256=Dcc4PNBr8CZMtpyLJARlkzb5o-g-ScZJ4Zkdyzo6fJg,62021
-scriptconfig/config.pyi,sha256=wUAkjF_-FPC_5L3oCHqPgIAscrwrHzMmdxRxf29iEiA,2344
+scriptconfig/config.py,sha256=yp__pqiSj17biTeUzQoGZz53qFou6EsmLHpH_SWWZGI,62037
+scriptconfig/config.pyi,sha256=oTh4ZlH8v5Xb_w7LHxKLqqdpfsGzxNZFMChSpZtHSDA,2859
 scriptconfig/dataconfig.py,sha256=Ynt0vuRQ8HvfOqiQZxlVvG61Pff_Ntwxkxg5cCR25_s,15411
-scriptconfig/dataconfig.pyi,sha256=CFKzn1bBGA475KNfBiu2Euo1-iNoLaoq0mfV1kyQSgE,1454
+scriptconfig/dataconfig.pyi,sha256=RWYX9VxBp8MctvMKr7e_hzoCfs2MJE38bDRGbxc53Mc,1230
 scriptconfig/dict_like.py,sha256=6_3epaacLGQqTpIrPic_U4FSUstZsWqdHH9mnIJcHT0,3588
 scriptconfig/dict_like.pyi,sha256=2m_VDm0MQV8NUb_JnX2LaIrnVGpMHfNFWKj9MokA8PE,1025
 scriptconfig/file_like.py,sha256=EGpfwMMmFtbv4iRcqLmKU1ebgkpLhN08Oid_ho0z0SQ,1162
 scriptconfig/file_like.pyi,sha256=7wiTB0ApSlXo4BE3UWUj28vWQofvh1SdTa0NsNB4fKo,238
-scriptconfig/modal.py,sha256=UWJ14iSkvJiILGv8gIRko3cCgAJ5V4_ZpIllFSdNjS0,7636
+scriptconfig/modal.py,sha256=Zc2hqOhVw9Bc--g3IlsLiSaw0xjcqrEFMoXT_2dTGPA,12727
+scriptconfig/modal.pyi,sha256=PLLLyvSe8e41cnUEI_HZs2jwy5Zg429x_outvJb2s6g,959
 scriptconfig/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scriptconfig/smartcast.py,sha256=iDPoiy4qFWZECsKeicTu5rvqSw2mDgbPN09TWDY2X58,8874
-scriptconfig/smartcast.pyi,sha256=_c7_-IKiT_27UIZ3ksELF5OMg45eOfpNYMVMA5NOvX8,266
+scriptconfig/smartcast.pyi,sha256=_FiA9HL-5_5S7aowX0WmSG8RsoaV7FwjK8PUqu03jIo,229
 scriptconfig/value.py,sha256=F7NVIgxk7lTvetlQBmq52kBLhBC3wiNh86hnlSTJCug,15217
-scriptconfig/value.pyi,sha256=KQwFZREnoOAGb5M830fF-uJNF7AIIX5jF4lijv9R_rA,1589
-scriptconfig-0.7.8.dist-info/LICENSE,sha256=o6jcFk_bwjiPUz6vHK0Ju7RwbFp9eXMwAS2BDnwER-4,11343
-scriptconfig-0.7.8.dist-info/METADATA,sha256=nV2_x_jMbYkj96x_5S1q8hzsyDVevldt9NU75fgdliU,31447
-scriptconfig-0.7.8.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-scriptconfig-0.7.8.dist-info/top_level.txt,sha256=lT9CMmcZkxEHt4wUGNDG0fNJvpBNYyfrW1CG3x3zyC4,13
-scriptconfig-0.7.8.dist-info/RECORD,,
+scriptconfig/value.pyi,sha256=r0-D_29KM2nGrE7pPuJRxOVjpyFw1Kichy6R-WcRUso,1862
+scriptconfig-0.7.9.dist-info/LICENSE,sha256=o6jcFk_bwjiPUz6vHK0Ju7RwbFp9eXMwAS2BDnwER-4,11343
+scriptconfig-0.7.9.dist-info/METADATA,sha256=lqWY4x0re1_OToENTPsoVr2vCQGYpzvYegJJO2OhnxQ,31447
+scriptconfig-0.7.9.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+scriptconfig-0.7.9.dist-info/top_level.txt,sha256=lT9CMmcZkxEHt4wUGNDG0fNJvpBNYyfrW1CG3x3zyC4,13
+scriptconfig-0.7.9.dist-info/RECORD,,
```

